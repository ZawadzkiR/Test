import ipywidgets as widgets
from IPython.display import display
import subprocess

# Przykładowy słownik z nazwami procesów i ścieżkami do plików .py
processes = {
    'Proces 1': '/path/to/script1.py',
    'Proces 2': '/path/to/script2.py',
    'Proces 3': '/path/to/script3.py',
}

# Funkcja do uruchamiania skryptów
def run_process(path):
    try:
        subprocess.run(['python3', path], check=True)
        print(f'Uruchomiono {path}')
    except subprocess.CalledProcessError as e:
        print(f'Błąd podczas uruchamiania {path}: {e}')

# Lista widgetów do wyświetlenia
widgets_list = []

# Tworzenie nagłówków tabeli
header = widgets.HBox([widgets.Label('Nazwa procesu'), widgets.Label('Uruchomienie procesu')])
widgets_list.append(header)

# Tworzenie wierszy z nazwami procesów i guzikami
for name, path in processes.items():
    button = widgets.Button(description='Uruchom')
    
    # Przypisanie funkcji uruchamiania do guzika
    button.on_click(lambda b, p=path: run_process(p))
    
    row = widgets.HBox([widgets.Label(name), button])
    widgets_list.append(row)

# Wyświetlenie całej tabeli
display(widgets.VBox(widgets_list))
